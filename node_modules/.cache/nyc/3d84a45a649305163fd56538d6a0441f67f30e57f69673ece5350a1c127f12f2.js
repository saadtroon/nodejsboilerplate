var cov_24gkzwk8bp=function(){var path="/home/saad/work/shopefynodepoject/controllers/BookController.js";var hash="7deef26402e8f93b7d84e9decce8405934bafbb4";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/saad/work/shopefynodepoject/controllers/BookController.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:43}},"1":{start:{line:2,column:34},end:{line:2,column:62}},"2":{start:{line:3,column:25},end:{line:3,column:53}},"3":{start:{line:4,column:20},end:{line:4,column:53}},"4":{start:{line:5,column:13},end:{line:5,column:42}},"5":{start:{line:6,column:15},end:{line:6,column:34}},"6":{start:{line:7,column:0},end:{line:7,column:40}},"7":{start:{line:11,column:1},end:{line:11,column:20}},"8":{start:{line:12,column:1},end:{line:12,column:24}},"9":{start:{line:13,column:1},end:{line:13,column:37}},"10":{start:{line:14,column:1},end:{line:14,column:23}},"11":{start:{line:15,column:1},end:{line:15,column:33}},"12":{start:{line:23,column:0},end:{line:39,column:2}},"13":{start:{line:26,column:2},end:{line:37,column:3}},"14":{start:{line:27,column:3},end:{line:33,column:6}},"15":{start:{line:28,column:4},end:{line:32,column:5}},"16":{start:{line:29,column:5},end:{line:29,column:81}},"17":{start:{line:31,column:5},end:{line:31,column:78}},"18":{start:{line:36,column:3},end:{line:36,column:46}},"19":{start:{line:48,column:0},end:{line:68,column:2}},"20":{start:{line:51,column:2},end:{line:53,column:3}},"21":{start:{line:52,column:3},end:{line:52,column:76}},"22":{start:{line:54,column:2},end:{line:66,column:3}},"23":{start:{line:55,column:3},end:{line:62,column:6}},"24":{start:{line:56,column:4},end:{line:61,column:5}},"25":{start:{line:57,column:20},end:{line:57,column:38}},"26":{start:{line:58,column:5},end:{line:58,column:84}},"27":{start:{line:60,column:5},end:{line:60,column:78}},"28":{start:{line:65,column:3},end:{line:65,column:46}},"29":{start:{line:79,column:0},end:{line:117,column:2}},"30":{start:{line:84,column:2},end:{line:88,column:5}},"31":{start:{line:85,column:3},end:{line:87,column:4}},"32":{start:{line:86,column:4},end:{line:86,column:67}},"33":{start:{line:92,column:2},end:{line:115,column:3}},"34":{start:{line:93,column:18},end:{line:93,column:39}},"35":{start:{line:94,column:14},end:{line:99,column:6}},"36":{start:{line:101,column:3},end:{line:111,column:4}},"37":{start:{line:102,column:4},end:{line:102,column:89}},"38":{start:{line:106,column:4},end:{line:110,column:7}},"39":{start:{line:107,column:5},end:{line:107,column:61}},"40":{start:{line:107,column:16},end:{line:107,column:59}},"41":{start:{line:108,column:20},end:{line:108,column:38}},"42":{start:{line:109,column:5},end:{line:109,column:83}},"43":{start:{line:114,column:3},end:{line:114,column:46}},"44":{start:{line:128,column:0},end:{line:184,column:2}},"45":{start:{line:133,column:2},end:{line:137,column:5}},"46":{start:{line:134,column:3},end:{line:136,column:4}},"47":{start:{line:135,column:4},end:{line:135,column:67}},"48":{start:{line:141,column:2},end:{line:182,column:3}},"49":{start:{line:142,column:18},end:{line:142,column:39}},"50":{start:{line:143,column:14},end:{line:148,column:6}},"51":{start:{line:150,column:3},end:{line:178,column:4}},"52":{start:{line:151,column:4},end:{line:151,column:89}},"53":{start:{line:154,column:4},end:{line:177,column:5}},"54":{start:{line:155,column:5},end:{line:155,column:85}},"55":{start:{line:157,column:5},end:{line:176,column:8}},"56":{start:{line:158,column:6},end:{line:175,column:7}},"57":{start:{line:159,column:7},end:{line:159,column:79}},"58":{start:{line:162,column:7},end:{line:174,column:8}},"59":{start:{line:163,column:8},end:{line:163,column:101}},"60":{start:{line:166,column:8},end:{line:173,column:11}},"61":{start:{line:167,column:9},end:{line:172,column:10}},"62":{start:{line:168,column:10},end:{line:168,column:53}},"63":{start:{line:170,column:25},end:{line:170,column:43}},"64":{start:{line:171,column:10},end:{line:171,column:91}},"65":{start:{line:181,column:3},end:{line:181,column:46}},"66":{start:{line:193,column:0},end:{line:224,column:2}},"67":{start:{line:196,column:2},end:{line:198,column:3}},"68":{start:{line:197,column:3},end:{line:197,column:83}},"69":{start:{line:199,column:2},end:{line:222,column:3}},"70":{start:{line:200,column:3},end:{line:218,column:6}},"71":{start:{line:201,column:4},end:{line:217,column:5}},"72":{start:{line:202,column:5},end:{line:202,column:77}},"73":{start:{line:205,column:5},end:{line:216,column:6}},"74":{start:{line:206,column:6},end:{line:206,column:99}},"75":{start:{line:209,column:6},end:{line:215,column:9}},"76":{start:{line:210,column:7},end:{line:214,column:8}},"77":{start:{line:211,column:8},end:{line:211,column:51}},"78":{start:{line:213,column:8},end:{line:213,column:71}},"79":{start:{line:221,column:3},end:{line:221,column:46}}},fnMap:{"0":{name:"BookData",decl:{start:{line:10,column:9},end:{line:10,column:17}},loc:{start:{line:10,column:24},end:{line:16,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:25,column:1},end:{line:25,column:2}},loc:{start:{line:25,column:21},end:{line:38,column:2}},line:25},"2":{name:"(anonymous_2)",decl:{start:{line:27,column:79},end:{line:27,column:80}},loc:{start:{line:27,column:88},end:{line:33,column:4}},line:27},"3":{name:"(anonymous_3)",decl:{start:{line:50,column:1},end:{line:50,column:2}},loc:{start:{line:50,column:21},end:{line:67,column:2}},line:50},"4":{name:"(anonymous_4)",decl:{start:{line:55,column:101},end:{line:55,column:102}},loc:{start:{line:55,column:109},end:{line:62,column:4}},line:55},"5":{name:"(anonymous_5)",decl:{start:{line:83,column:75},end:{line:83,column:76}},loc:{start:{line:83,column:92},end:{line:89,column:2}},line:83},"6":{name:"(anonymous_6)",decl:{start:{line:84,column:62},end:{line:84,column:63}},loc:{start:{line:84,column:70},end:{line:88,column:3}},line:84},"7":{name:"(anonymous_7)",decl:{start:{line:91,column:1},end:{line:91,column:2}},loc:{start:{line:91,column:15},end:{line:116,column:2}},line:91},"8":{name:"(anonymous_8)",decl:{start:{line:106,column:14},end:{line:106,column:15}},loc:{start:{line:106,column:29},end:{line:110,column:5}},line:106},"9":{name:"(anonymous_9)",decl:{start:{line:132,column:75},end:{line:132,column:76}},loc:{start:{line:132,column:92},end:{line:138,column:2}},line:132},"10":{name:"(anonymous_10)",decl:{start:{line:133,column:93},end:{line:133,column:94}},loc:{start:{line:133,column:101},end:{line:137,column:3}},line:133},"11":{name:"(anonymous_11)",decl:{start:{line:140,column:1},end:{line:140,column:2}},loc:{start:{line:140,column:15},end:{line:183,column:2}},line:140},"12":{name:"(anonymous_12)",decl:{start:{line:157,column:34},end:{line:157,column:35}},loc:{start:{line:157,column:60},end:{line:176,column:6}},line:157},"13":{name:"(anonymous_13)",decl:{start:{line:166,column:55},end:{line:166,column:56}},loc:{start:{line:166,column:70},end:{line:173,column:9}},line:166},"14":{name:"(anonymous_14)",decl:{start:{line:195,column:1},end:{line:195,column:2}},loc:{start:{line:195,column:21},end:{line:223,column:2}},line:195},"15":{name:"(anonymous_15)",decl:{start:{line:200,column:32},end:{line:200,column:33}},loc:{start:{line:200,column:58},end:{line:218,column:4}},line:200},"16":{name:"(anonymous_16)",decl:{start:{line:209,column:43},end:{line:209,column:44}},loc:{start:{line:209,column:58},end:{line:215,column:7}},line:209}},branchMap:{"0":{loc:{start:{line:28,column:4},end:{line:32,column:5}},type:"if",locations:[{start:{line:28,column:4},end:{line:32,column:5}},{start:{line:28,column:4},end:{line:32,column:5}}],line:28},"1":{loc:{start:{line:51,column:2},end:{line:53,column:3}},type:"if",locations:[{start:{line:51,column:2},end:{line:53,column:3}},{start:{line:51,column:2},end:{line:53,column:3}}],line:51},"2":{loc:{start:{line:56,column:4},end:{line:61,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:61,column:5}},{start:{line:56,column:4},end:{line:61,column:5}}],line:56},"3":{loc:{start:{line:85,column:3},end:{line:87,column:4}},type:"if",locations:[{start:{line:85,column:3},end:{line:87,column:4}},{start:{line:85,column:3},end:{line:87,column:4}}],line:85},"4":{loc:{start:{line:101,column:3},end:{line:111,column:4}},type:"if",locations:[{start:{line:101,column:3},end:{line:111,column:4}},{start:{line:101,column:3},end:{line:111,column:4}}],line:101},"5":{loc:{start:{line:107,column:5},end:{line:107,column:61}},type:"if",locations:[{start:{line:107,column:5},end:{line:107,column:61}},{start:{line:107,column:5},end:{line:107,column:61}}],line:107},"6":{loc:{start:{line:134,column:3},end:{line:136,column:4}},type:"if",locations:[{start:{line:134,column:3},end:{line:136,column:4}},{start:{line:134,column:3},end:{line:136,column:4}}],line:134},"7":{loc:{start:{line:150,column:3},end:{line:178,column:4}},type:"if",locations:[{start:{line:150,column:3},end:{line:178,column:4}},{start:{line:150,column:3},end:{line:178,column:4}}],line:150},"8":{loc:{start:{line:154,column:4},end:{line:177,column:5}},type:"if",locations:[{start:{line:154,column:4},end:{line:177,column:5}},{start:{line:154,column:4},end:{line:177,column:5}}],line:154},"9":{loc:{start:{line:158,column:6},end:{line:175,column:7}},type:"if",locations:[{start:{line:158,column:6},end:{line:175,column:7}},{start:{line:158,column:6},end:{line:175,column:7}}],line:158},"10":{loc:{start:{line:162,column:7},end:{line:174,column:8}},type:"if",locations:[{start:{line:162,column:7},end:{line:174,column:8}},{start:{line:162,column:7},end:{line:174,column:8}}],line:162},"11":{loc:{start:{line:167,column:9},end:{line:172,column:10}},type:"if",locations:[{start:{line:167,column:9},end:{line:172,column:10}},{start:{line:167,column:9},end:{line:172,column:10}}],line:167},"12":{loc:{start:{line:196,column:2},end:{line:198,column:3}},type:"if",locations:[{start:{line:196,column:2},end:{line:198,column:3}},{start:{line:196,column:2},end:{line:198,column:3}}],line:196},"13":{loc:{start:{line:201,column:4},end:{line:217,column:5}},type:"if",locations:[{start:{line:201,column:4},end:{line:217,column:5}},{start:{line:201,column:4},end:{line:217,column:5}}],line:201},"14":{loc:{start:{line:205,column:5},end:{line:216,column:6}},type:"if",locations:[{start:{line:205,column:5},end:{line:216,column:6}},{start:{line:205,column:5},end:{line:216,column:6}}],line:205},"15":{loc:{start:{line:210,column:7},end:{line:214,column:8}},type:"if",locations:[{start:{line:210,column:7},end:{line:214,column:8}},{start:{line:210,column:7},end:{line:214,column:8}}],line:210}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"7deef26402e8f93b7d84e9decce8405934bafbb4"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();const Book=(cov_24gkzwk8bp.s[0]++,require("../models/BookModel"));const{body,validationResult}=(cov_24gkzwk8bp.s[1]++,require("express-validator"));const{sanitizeBody}=(cov_24gkzwk8bp.s[2]++,require("express-validator"));const apiResponse=(cov_24gkzwk8bp.s[3]++,require("../helpers/apiResponse"));const auth=(cov_24gkzwk8bp.s[4]++,require("../middlewares/jwt"));var mongoose=(cov_24gkzwk8bp.s[5]++,require("mongoose"));cov_24gkzwk8bp.s[6]++;mongoose.set("useFindAndModify",false);// Book Schema
function BookData(data){cov_24gkzwk8bp.f[0]++;cov_24gkzwk8bp.s[7]++;this.id=data._id;cov_24gkzwk8bp.s[8]++;this.title=data.title;cov_24gkzwk8bp.s[9]++;this.description=data.description;cov_24gkzwk8bp.s[10]++;this.isbn=data.isbn;cov_24gkzwk8bp.s[11]++;this.createdAt=data.createdAt;}/**
 * Book List.
 * 
 * @returns {Object}
 */cov_24gkzwk8bp.s[12]++;exports.bookList=[auth,function(req,res){cov_24gkzwk8bp.f[1]++;cov_24gkzwk8bp.s[13]++;try{cov_24gkzwk8bp.s[14]++;Book.find({user:req.user._id},"_id title description isbn createdAt").then(books=>{cov_24gkzwk8bp.f[2]++;cov_24gkzwk8bp.s[15]++;if(books.length>0){cov_24gkzwk8bp.b[0][0]++;cov_24gkzwk8bp.s[16]++;return apiResponse.successResponseWithData(res,"Operation success",books);}else{cov_24gkzwk8bp.b[0][1]++;cov_24gkzwk8bp.s[17]++;return apiResponse.successResponseWithData(res,"Operation success",[]);}});}catch(err){cov_24gkzwk8bp.s[18]++;//throw error in json response with status 500. 
return apiResponse.ErrorResponse(res,err);}}];/**
 * Book Detail.
 * 
 * @param {string}      id
 * 
 * @returns {Object}
 */cov_24gkzwk8bp.s[19]++;exports.bookDetail=[auth,function(req,res){cov_24gkzwk8bp.f[3]++;cov_24gkzwk8bp.s[20]++;if(!mongoose.Types.ObjectId.isValid(req.params.id)){cov_24gkzwk8bp.b[1][0]++;cov_24gkzwk8bp.s[21]++;return apiResponse.successResponseWithData(res,"Operation success",{});}else{cov_24gkzwk8bp.b[1][1]++;}cov_24gkzwk8bp.s[22]++;try{cov_24gkzwk8bp.s[23]++;Book.findOne({_id:req.params.id,user:req.user._id},"_id title description isbn createdAt").then(book=>{cov_24gkzwk8bp.f[4]++;cov_24gkzwk8bp.s[24]++;if(book!==null){cov_24gkzwk8bp.b[2][0]++;let bookData=(cov_24gkzwk8bp.s[25]++,new BookData(book));cov_24gkzwk8bp.s[26]++;return apiResponse.successResponseWithData(res,"Operation success",bookData);}else{cov_24gkzwk8bp.b[2][1]++;cov_24gkzwk8bp.s[27]++;return apiResponse.successResponseWithData(res,"Operation success",{});}});}catch(err){cov_24gkzwk8bp.s[28]++;//throw error in json response with status 500. 
return apiResponse.ErrorResponse(res,err);}}];/**
 * Book store.
 * 
 * @param {string}      title 
 * @param {string}      description
 * @param {string}      isbn
 * 
 * @returns {Object}
 */cov_24gkzwk8bp.s[29]++;exports.bookStore=[auth,body("title","Title must not be empty.").isLength({min:1}).trim(),body("description","Description must not be empty.").isLength({min:1}).trim(),body("isbn","ISBN must not be empty").isLength({min:1}).trim().custom((value,{req})=>{cov_24gkzwk8bp.f[5]++;cov_24gkzwk8bp.s[30]++;return Book.findOne({isbn:value,user:req.user._id}).then(book=>{cov_24gkzwk8bp.f[6]++;cov_24gkzwk8bp.s[31]++;if(book){cov_24gkzwk8bp.b[3][0]++;cov_24gkzwk8bp.s[32]++;return Promise.reject("Book already exist with this ISBN no.");}else{cov_24gkzwk8bp.b[3][1]++;}});}),sanitizeBody("*").escape(),(req,res)=>{cov_24gkzwk8bp.f[7]++;cov_24gkzwk8bp.s[33]++;try{const errors=(cov_24gkzwk8bp.s[34]++,validationResult(req));var book=(cov_24gkzwk8bp.s[35]++,new Book({title:req.body.title,user:req.user,description:req.body.description,isbn:req.body.isbn}));cov_24gkzwk8bp.s[36]++;if(!errors.isEmpty()){cov_24gkzwk8bp.b[4][0]++;cov_24gkzwk8bp.s[37]++;return apiResponse.validationErrorWithData(res,"Validation Error.",errors.array());}else{cov_24gkzwk8bp.b[4][1]++;cov_24gkzwk8bp.s[38]++;//Save book.
book.save(function(err){cov_24gkzwk8bp.f[8]++;cov_24gkzwk8bp.s[39]++;if(err){cov_24gkzwk8bp.b[5][0]++;cov_24gkzwk8bp.s[40]++;return apiResponse.ErrorResponse(res,err);}else{cov_24gkzwk8bp.b[5][1]++;}let bookData=(cov_24gkzwk8bp.s[41]++,new BookData(book));cov_24gkzwk8bp.s[42]++;return apiResponse.successResponseWithData(res,"Book add Success.",bookData);});}}catch(err){cov_24gkzwk8bp.s[43]++;//throw error in json response with status 500. 
return apiResponse.ErrorResponse(res,err);}}];/**
 * Book update.
 * 
 * @param {string}      title 
 * @param {string}      description
 * @param {string}      isbn
 * 
 * @returns {Object}
 */cov_24gkzwk8bp.s[44]++;exports.bookUpdate=[auth,body("title","Title must not be empty.").isLength({min:1}).trim(),body("description","Description must not be empty.").isLength({min:1}).trim(),body("isbn","ISBN must not be empty").isLength({min:1}).trim().custom((value,{req})=>{cov_24gkzwk8bp.f[9]++;cov_24gkzwk8bp.s[45]++;return Book.findOne({isbn:value,user:req.user._id,_id:{"$ne":req.params.id}}).then(book=>{cov_24gkzwk8bp.f[10]++;cov_24gkzwk8bp.s[46]++;if(book){cov_24gkzwk8bp.b[6][0]++;cov_24gkzwk8bp.s[47]++;return Promise.reject("Book already exist with this ISBN no.");}else{cov_24gkzwk8bp.b[6][1]++;}});}),sanitizeBody("*").escape(),(req,res)=>{cov_24gkzwk8bp.f[11]++;cov_24gkzwk8bp.s[48]++;try{const errors=(cov_24gkzwk8bp.s[49]++,validationResult(req));var book=(cov_24gkzwk8bp.s[50]++,new Book({title:req.body.title,description:req.body.description,isbn:req.body.isbn,_id:req.params.id}));cov_24gkzwk8bp.s[51]++;if(!errors.isEmpty()){cov_24gkzwk8bp.b[7][0]++;cov_24gkzwk8bp.s[52]++;return apiResponse.validationErrorWithData(res,"Validation Error.",errors.array());}else{cov_24gkzwk8bp.b[7][1]++;cov_24gkzwk8bp.s[53]++;if(!mongoose.Types.ObjectId.isValid(req.params.id)){cov_24gkzwk8bp.b[8][0]++;cov_24gkzwk8bp.s[54]++;return apiResponse.validationErrorWithData(res,"Invalid Error.","Invalid ID");}else{cov_24gkzwk8bp.b[8][1]++;cov_24gkzwk8bp.s[55]++;Book.findById(req.params.id,function(err,foundBook){cov_24gkzwk8bp.f[12]++;cov_24gkzwk8bp.s[56]++;if(foundBook===null){cov_24gkzwk8bp.b[9][0]++;cov_24gkzwk8bp.s[57]++;return apiResponse.notFoundResponse(res,"Book not exists with this id");}else{cov_24gkzwk8bp.b[9][1]++;cov_24gkzwk8bp.s[58]++;//Check authorized user
if(foundBook.user.toString()!==req.user._id){cov_24gkzwk8bp.b[10][0]++;cov_24gkzwk8bp.s[59]++;return apiResponse.unauthorizedResponse(res,"You are not authorized to do this operation.");}else{cov_24gkzwk8bp.b[10][1]++;cov_24gkzwk8bp.s[60]++;//update book.
Book.findByIdAndUpdate(req.params.id,book,{},function(err){cov_24gkzwk8bp.f[13]++;cov_24gkzwk8bp.s[61]++;if(err){cov_24gkzwk8bp.b[11][0]++;cov_24gkzwk8bp.s[62]++;return apiResponse.ErrorResponse(res,err);}else{cov_24gkzwk8bp.b[11][1]++;let bookData=(cov_24gkzwk8bp.s[63]++,new BookData(book));cov_24gkzwk8bp.s[64]++;return apiResponse.successResponseWithData(res,"Book update Success.",bookData);}});}}});}}}catch(err){cov_24gkzwk8bp.s[65]++;//throw error in json response with status 500. 
return apiResponse.ErrorResponse(res,err);}}];/**
 * Book Delete.
 * 
 * @param {string}      id
 * 
 * @returns {Object}
 */cov_24gkzwk8bp.s[66]++;exports.bookDelete=[auth,function(req,res){cov_24gkzwk8bp.f[14]++;cov_24gkzwk8bp.s[67]++;if(!mongoose.Types.ObjectId.isValid(req.params.id)){cov_24gkzwk8bp.b[12][0]++;cov_24gkzwk8bp.s[68]++;return apiResponse.validationErrorWithData(res,"Invalid Error.","Invalid ID");}else{cov_24gkzwk8bp.b[12][1]++;}cov_24gkzwk8bp.s[69]++;try{cov_24gkzwk8bp.s[70]++;Book.findById(req.params.id,function(err,foundBook){cov_24gkzwk8bp.f[15]++;cov_24gkzwk8bp.s[71]++;if(foundBook===null){cov_24gkzwk8bp.b[13][0]++;cov_24gkzwk8bp.s[72]++;return apiResponse.notFoundResponse(res,"Book not exists with this id");}else{cov_24gkzwk8bp.b[13][1]++;cov_24gkzwk8bp.s[73]++;//Check authorized user
if(foundBook.user.toString()!==req.user._id){cov_24gkzwk8bp.b[14][0]++;cov_24gkzwk8bp.s[74]++;return apiResponse.unauthorizedResponse(res,"You are not authorized to do this operation.");}else{cov_24gkzwk8bp.b[14][1]++;cov_24gkzwk8bp.s[75]++;//delete book.
Book.findByIdAndRemove(req.params.id,function(err){cov_24gkzwk8bp.f[16]++;cov_24gkzwk8bp.s[76]++;if(err){cov_24gkzwk8bp.b[15][0]++;cov_24gkzwk8bp.s[77]++;return apiResponse.ErrorResponse(res,err);}else{cov_24gkzwk8bp.b[15][1]++;cov_24gkzwk8bp.s[78]++;return apiResponse.successResponse(res,"Book delete Success.");}});}}});}catch(err){cov_24gkzwk8bp.s[79]++;//throw error in json response with status 500. 
return apiResponse.ErrorResponse(res,err);}}];